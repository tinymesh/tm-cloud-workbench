<div class="page-header">
	<h1>Organizations</h1>
</div>

<div ng-show="0 === organizations.length">
		<p class="alert alert-danger">
			You'r not connected with any organizations. Please request the
			organization administrator to add you.
		</p>
</div>

<div ng-show="0 < organizations.length">
	<div class="panel panel-default" ng-repeat="org in organizations" ng-controller="wbOrganizationCtrl">
		<div class="panel-heading">
			<h4 class="panel-title">
				<a class="accordion-toggle">{{org.name || org.key}}</a>
			</h4>
		</div>
		<div class="panel-collapse" collapse="!isOpen">
			<div class="panel-body" >
				<div class="row">
					<div class="col-xs-6">
						<h4>Networks</h4>
						<div class="list-group">
							<a ng-repeat="item in org.networks"
								 ng-href="#/network/{{item}}"
								 class="list-group-item">
								{{item}}
							</a>
						</div>
					</div>

					<div class="col-xs-6">
						<h4>Users</h4>

						<ul class="list-group">
							<li ng-repeat="item in org.users" class="list-group-item">
								{{item}}
								<button ng-click="revokeUserOrg(item, org)" type="button" class="close">&times;</button>
							</li>
							<li class="list-group-item">
								<form ng-submit="assignUserOrg(adduser, org)">
									<div class="input-group btn-group">
										<span class="input-group-addon"><b class="glyphicon glyphicon-user"></b></span>
										<div class="col-xs-10" style="padding:0px;">
											<input ng-model="adduser" class="form-control" id="username" type="text" placeholder="Email ..." required>
										</div>
										<button type="submit" class="btn btn-primary">Add</button>
									</div>
								</form>
							</li>
						</ul>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-3 pull-right">
						<a ng-href="#/organization/{{org.key}}">Open organization</a>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
